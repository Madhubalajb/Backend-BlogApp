(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(14),c=n.n(u),o=n(1),s=n.n(o),l=n(4),i=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:e.login},r.a.createElement("input",{type:"text",placeholder:"Username",onChange:e.u_name,required:!0}),r.a.createElement("input",{type:"password",placeholder:"Password",onChange:e.u_password,required:!0}),r.a.createElement("button",{type:"submit"},"Login")))},p=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Sign Up"),r.a.createElement("form",{onSubmit:e.addUser},r.a.createElement("input",{type:"text",placeholder:"Name",onChange:e.name}),r.a.createElement("input",{type:"text",placeholder:"Username",onChange:e.u_name}),r.a.createElement("input",{type:"password",placeholder:"Set Password",onChange:e.u_password}),r.a.createElement("button",{type:"submit"},"Sign Up")))},m=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"Create new"),r.a.createElement("form",{onSubmit:e.blog},r.a.createElement("input",{type:"text",placeholder:"Title",onChange:e.title,required:!0}),r.a.createElement("input",{type:"text",placeholder:"Author",onChange:e.author,required:!0}),r.a.createElement("input",{type:"text",placeholder:"url",onChange:e.url,required:!0}),r.a.createElement("button",{type:"submit"},"Create")))},d=n(3),f=n.n(d),g=function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.post("api/login",e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},h=function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.a.awrap(f.a.post("api/users",e));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}))},b=null,v=function(e){b="bearer ".concat(e)},w=function(){var e;return s.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.awrap(f.a.get("api/blogs"));case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}))},E=function(e){var t,n;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={headers:{Authorization:b}},a.next=3,s.a.awrap(f.a.post("api/blogs",e,t));case 3:return n=a.sent,a.abrupt("return",n.data);case 5:case"end":return a.stop()}}))},x=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(a.useState)(""),o=Object(l.a)(c,2),d=o[0],f=o[1],b=Object(a.useState)(""),x=Object(l.a)(b,2),y=x[0],O=x[1],S=Object(a.useState)(""),j=Object(l.a)(S,2),C=(j[0],j[1]),k=Object(a.useState)(""),U=Object(l.a)(k,2),_=U[0],q=U[1],B=Object(a.useState)(""),A=Object(l.a)(B,2),J=A[0],D=A[1],I=Object(a.useState)(""),N=Object(l.a)(I,2),L=N[0],P=N[1],W=Object(a.useState)([]),z=Object(l.a)(W,2),T=z[0],$=z[1];Object(a.useEffect)((function(){w().then((function(e){return $(e)}))}),[]);var F=function(e){return f(e.target.value)},G=function(e){return O(e.target.value)};return r.a.createElement("center",null,r.a.createElement(i,{login:function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,s.a.awrap(g({username:d,password:y}));case 4:t=n.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(t)),v(t.token),C(t),f(""),O(""),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}}),null,null,[[1,12]])},u_name:F,u_password:G}),r.a.createElement(m,{blog:function(e){var t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.prev=1,n.next=4,s.a.awrap(E({title:_,author:J,url:L}));case 4:t=n.sent,$(T.concat(t)),q(""),D(""),P(""),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:case"end":return n.stop()}}),null,null,[[1,11]])},title:function(e){return q(e.target.value)},author:function(e){return D(e.target.value)},url:function(e){return P(e.target.value)}}),r.a.createElement(p,{addUser:function(e){var t;return s.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.prev=1,a.next=4,s.a.awrap(h({name:n,username:d,password:y}));case 4:t=a.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(t)),v(t.token),u(""),f(""),O(""),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),console.log(a.t0);case 15:case"end":return a.stop()}}),null,null,[[1,12]])},name:function(e){return u(e.target.value)},u_name:F,u_password:G}),r.a.createElement("h1",null,"Blogs"),function(e){return e.map((function(e){return r.a.createElement("p",null,e.title)}))}(T))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.87f07525.chunk.js.map